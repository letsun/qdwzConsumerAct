<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=640, user-scalable=no" />
    <!-- 样式 start -->
    <link rel="stylesheet" href="/biteming/fonts/iconfont.css">
    <link rel="stylesheet" href="/biteming/css/withdrawalsRecord.css">
    <!-- 样式 end -->
    <title>提现记录</title>
</head>
<body>

<div class="container" id="container">
    <div class="header-back">
        <a class="back-icon" href="javascript:history.back(-1)">
            <i class="back iconfont icon-fanhui"></i>
            返回
        </a>
        <h3>提现</h3>
    </div>

    <div class="scroll-wrapper" id="scrollWrapper">
        <div class="wrapper" id="wrapper">
            <ul class="withdrawals-list" id="withdrawals-list">

                    <li class="withdraw-item">
                        <a href="javascript:void(0);">
                            <div class="withdrawal-title">+￥<span class="tilte-num">20.00</span></div>
                            <div class="withdrawal-time">2018-01-28 15:30</div>
                            <div class="withdrawal-state withdrawal-err">提现失败</div>
                        </a>
                    </li>
                    <li class="withdraw-item">
                        <a href="javascript:void(0);">
                            <div class="withdrawal-title">+￥<span class="tilte-num">20.00</span></div>
                            <div class="withdrawal-time">2018-01-28 15:30</div>
                            <div class="withdrawal-state">提现成功</div>
                        </a>
                    </li>

                    <li class="withdraw-item">
                        <a href="javascript:void(0);">
                            <div class="withdrawal-title">+￥<span class="tilte-num">20.00</span></div>
                            <div class="withdrawal-time">2018-01-28 15:30</div>
                            <div class="withdrawal-state">提现成功</div>
                        </a>
                    </li>

                    <li class="withdraw-item">
                        <a href="javascript:void(0);">
                            <div class="withdrawal-title">+￥<span class="tilte-num">20.00</span></div>
                            <div class="withdrawal-time">2018-01-28 15:30</div>
                            <div class="withdrawal-state">提现成功</div>
                        </a>
                    </li>

                    <li class="withdraw-item">
                        <a href="javascript:void(0);">
                            <div class="withdrawal-title">+￥<span class="tilte-num">20.00</span></div>
                            <div class="withdrawal-time">2018-01-28 15:30</div>
                            <div class="withdrawal-state">提现成功</div>
                        </a>
                    </li>

                    <li class="withdraw-item">
                        <a href="javascript:void(0);">
                            <div class="withdrawal-title">+￥<span class="tilte-num">20.00</span></div>
                            <div class="withdrawal-time">2018-01-28 15:30</div>
                            <div class="withdrawal-state">提现成功</div>
                        </a>
                    </li>

                    <li class="withdraw-item">
                        <a href="javascript:void(0);">
                            <div class="withdrawal-title">+￥<span class="tilte-num">20.00</span></div>
                            <div class="withdrawal-time">2018-01-28 15:30</div>
                            <div class="withdrawal-state">提现成功</div>
                        </a>
                    </li>

                    <li class="withdraw-item">
                        <a href="javascript:void(0);">
                            <div class="withdrawal-title">+￥<span class="tilte-num">20.00</span></div>
                            <div class="withdrawal-time">2018-01-28 15:30</div>
                            <div class="withdrawal-state">提现成功</div>
                        </a>
                    </li>

                    <li class="withdraw-item">
                        <a href="javascript:void(0);">
                            <div class="withdrawal-title">+￥<span class="tilte-num">20.00</span></div>
                            <div class="withdrawal-time">2018-01-28 15:30</div>
                            <div class="withdrawal-state">提现成功</div>
                        </a>
                    </li>

                    <li class="withdraw-item">
                        <a href="javascript:void(0);">
                            <div class="withdrawal-title">+￥<span class="tilte-num">20.00</span></div>
                            <div class="withdrawal-time">2018-01-28 15:30</div>
                            <div class="withdrawal-state">提现成功</div>
                        </a>
                    </li>

                    <li class="withdraw-item">
                        <a href="javascript:void(0);">
                            <div class="withdrawal-title">+￥<span class="tilte-num">20.00</span></div>
                            <div class="withdrawal-time">2018-01-28 15:30</div>
                            <div class="withdrawal-state">提现成功</div>
                        </a>
                    </li>

                    <li class="withdraw-item">
                        <a href="javascript:void(0);">
                            <div class="withdrawal-title">+￥<span class="tilte-num">20.00</span></div>
                            <div class="withdrawal-time">2018-01-28 15:30</div>
                            <div class="withdrawal-state">提现成功</div>
                        </a>
                    </li>

                    <li class="withdraw-item">
                        <a href="javascript:void(0);">
                            <div class="withdrawal-title">+￥<span class="tilte-num">20.00</span></div>
                            <div class="withdrawal-time">2018-01-28 15:30</div>
                            <div class="withdrawal-state">提现成功</div>
                        </a>
                    </li>

                </ul>
            <!-- 下拉加载更多 -->
            <div class="loading" id="loading">下拉加载更多</div>
        </div>

    </div>

</div>
<!-- 公共js start -->
<%-include("../../../include/commonJs") %>
<!-- 公共js end -->
<script>
    // 禁止整个页面滑动
    $('#container').on('touchmove', function (e) {
        e.preventDefault();
    });

    var scroll = new BScroll('#scrollWrapper', {
        scrollbar: {
            fade: true
        },
        click: true,
        pullUpLoad: {
            threshold: 0
        }
    });

    var timer = null;
    var pageSize = 3;
    var hasNext = true;

    scroll.on('pullingUp', () => {
        if (!hasNext) {
            $('#loading').text('已经没有更多了');
            return;
        }

        $('#loading').text('正在加载中...');

        timer = setTimeout(function() {

            var html = '';
            for (var i = 0; i < 8; i++) {
                html += '<li class="withdraw-item">';
                html += '<a href="javascript:void(0);">';
                html += '<div class="withdrawal-title">+￥<span class="tilte-num">20.00</span></div>';
                html += '<div class="withdrawal-time">2018-01-28 15:30</div>';
                html += '<div class="withdrawal-state withdrawal-err">提现失败</div>';
                html += '</a>';
                html += '</li>';
            }

            $('#loading').text('下拉加载更多');
            $('#withdrawals-list').append(html);

            hasNext = false;

            scroll.finishPullUp();
            scroll.refresh();
        }, 100);
    });
</script>
</body>
</html>